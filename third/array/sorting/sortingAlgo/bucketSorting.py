'''
å°†å¾…æ’åºæ•°ç»„ä¸­çš„å…ƒç´ åˆ†æ•£åˆ°è‹¥å¹²ä¸ªã€Œæ¡¶ã€ä¸­ï¼Œç„¶åå¯¹æ¯ä¸ªæ¡¶ä¸­çš„å…ƒç´ å†è¿›è¡Œå•ç‹¬æ’åºã€‚

ç¡®å®šæ¡¶çš„æ•°é‡ï¼šæ ¹æ®å¾…æ’åºæ•°ç»„çš„å€¼åŸŸèŒƒå›´ï¼Œå°†æ•°ç»„åˆ’åˆ†ä¸º ğ‘˜ k ä¸ªæ¡¶ï¼Œæ¯ä¸ªæ¡¶å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªèŒƒå›´åŒºé—´ã€‚
åˆ†é…å…ƒç´ ï¼šéå†å¾…æ’åºæ•°ç»„å…ƒç´ ï¼Œå°†æ¯ä¸ªå…ƒç´ æ ¹æ®å¤§å°åˆ†é…åˆ°å¯¹åº”çš„æ¡¶ä¸­ã€‚ å¯¹æ¯ä¸ªæ¡¶è¿›è¡Œæ’åºï¼šå¯¹æ¯ä¸ªéç©ºæ¡¶å†…çš„å…ƒç´ å•ç‹¬æ’åºï¼ˆä½¿ç”¨æ’å…¥æ’åºã€å½’å¹¶æ’åºã€å¿«æ’æ’åºç­‰ç®—æ³•ï¼‰ã€‚
 åˆå¹¶æ¡¶å†…å…ƒç´ ï¼šå°†æ’å¥½åºçš„å„ä¸ªæ¡¶ä¸­çš„å…ƒç´ æŒ‰ç…§åŒºé—´é¡ºåºä¾æ¬¡åˆå¹¶èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æœ‰åºæ•°ç»„ã€‚

'''


class Solution:
    def insertionSort(self, nums: [int]) -> [int]:
        # éå†æ— åºåŒºé—´
        for i in range(1, len(nums)):
            temp = nums[i]
            j = i
            # ä»å³è‡³å·¦éå†æœ‰åºåŒºé—´
            while j > 0 and nums[j - 1] > temp:
                # å°†æœ‰åºåŒºé—´ä¸­æ’å…¥ä½ç½®å³ä¾§çš„å…ƒç´ ä¾æ¬¡å³ç§»ä¸€ä½
                nums[j] = nums[j - 1]
                j -= 1
            # å°†è¯¥å…ƒç´ æ’å…¥åˆ°é€‚å½“ä½ç½®
            nums[j] = temp

        return nums

    def bucketSort(self, nums: [int], bucket_size=5) -> [int]:
        # è®¡ç®—å¾…æ’åºåºåˆ—ä¸­æœ€å¤§å€¼å…ƒç´  nums_maxã€æœ€å°å€¼å…ƒç´  nums_min
        nums_min, nums_max = min(nums), max(nums)
        # å®šä¹‰æ¡¶çš„ä¸ªæ•°ä¸º (æœ€å¤§å€¼å…ƒç´  - æœ€å°å€¼å…ƒç´ ) // æ¯ä¸ªæ¡¶çš„å¤§å° + 1
        bucket_count = (nums_max - nums_min) // bucket_size + 1
        # å®šä¹‰æ¡¶æ•°ç»„ buckets
        buckets = [[] for _ in range(bucket_count)]

        # éå†å¾…æ’åºæ•°ç»„å…ƒç´ ï¼Œå°†æ¯ä¸ªå…ƒç´ æ ¹æ®å¤§å°åˆ†é…åˆ°å¯¹åº”çš„æ¡¶ä¸­
        for num in nums:
            buckets[(num - nums_min) // bucket_size].append(num)

        # å¯¹æ¯ä¸ªéç©ºæ¡¶å†…çš„å…ƒç´ å•ç‹¬æ’åºï¼Œæ’åºä¹‹åï¼ŒæŒ‰ç…§åŒºé—´é¡ºåºä¾æ¬¡åˆå¹¶åˆ° res æ•°ç»„ä¸­
        res = []
        for bucket in buckets:
            self.insertionSort(bucket)
            res.extend(bucket)

        # è¿”å›ç»“æœæ•°ç»„
        return res

    def sortArray(self, nums: [int]) -> [int]:
        return self.bucketSort(nums)
